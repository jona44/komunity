================================================================================
  KOMUNITY PLATFORM — TODO LIST
  Generated: 2026-02-10
================================================================================


========================================
  PHASE 1 — CORE GAPS (High Priority)
========================================

[x] 1. Secure Token Storage (expo-secure-store) ✅ DONE
      - App restart currently logs the user out
      - Persist auth token in secure storage
      - Auto-login on app launch if token exists
      - Files: mobile/App.tsx, mobile/src/api/client.ts

[x] 2. Password Reset on Mobile ✅ DONE
      - Add "Forgot Password?" link on LoginScreen
      - Create PasswordResetScreen (email input → backend sends reset email)
      - Backend already supports: /password-reset/, /password-reset-confirm/
      - Files: mobile/src/screens/LoginScreen.tsx (new screen needed)

[x] 3. Pull-to-Refresh Everywhere ✅ DONE
      - HomeScreen (My Groups list)
      - GroupFeedScreen (posts list)
      - DiscoveryScreen (explore groups)
      - GroupDetailScreen (members preview)
      - GroupManagementScreen (members + deceased)
      - WalletScreen already has it ✅
      - Use React Native RefreshControl component

[x] 4. Reply to Comments on Mobile ✅ DONE
      - PostDetailScreen currently shows replies but can't create them
      - Add reply input for each comment
      - API exists: ReplyViewSet (POST /api/v1/replies/)
      - Files: mobile/src/screens/PostDetailScreen.tsx
      - Backend: Added 'comment' field to ReplySerializer

[x] 5. Edit/Delete Own Comments on Mobile ✅ DONE
      - Add edit and delete actions to own comments
      - API already supports update/destroy for owner
      - Files: mobile/src/screens/PostDetailScreen.tsx
      - Added edit/delete for replies too


========================================
  PHASE 2 — ENHANCED ENGAGEMENT
========================================

[x] 6. Push Notifications (expo-notifications) ✅ DONE
      - New post in your group (limited to 20 members)
      - Contribution received (contributor + admin)
      - Membership approved/rejected
      - Deceased member declared (admins)
      - Funds disbursed (beneficiary)
      - Requires: backend notification model + FCM/APNs setup (DeviceToken + Notification models created)
      - Package: expo-notifications + expo-server-sdk

[x] 7. Edit Posts on Mobile ✅ DONE
      - Users can create, delete, and now EDIT posts
      - Implemented CreatePostScreen to support editing mode
      - Added "Edit" button to PostDetailScreen
      - Handles text update and image deletion/addition
      - Updated App.tsx to manage editing state
      - API supports PATCH on PostViewSet
      - Files: mobile/src/screens/PostDetailScreen.tsx (new EditPostScreen?)

[x] 8. Search on Mobile ✅ DONE
      - Web has search across groups and members
      - SearchScreen.tsx created with debounced search, group & member results
      - Integrated into HomeScreen and DiscoveryScreen
      - Backend: api_v1/views.py search_api_view endpoint at /api/v1/search/

[x] 9. Contributions List/History on Mobile ✅ DONE
      - ContributionsScreen.tsx created with summary stats, filter by deceased, pull-to-refresh
      - Accessible from WalletScreen via "History" quick action button
      - Shows total contributed, contribution count, number of funds
      - Filter tabs for each deceased member's fund
      - API: ContributionViewSet at /api/v1/contributions/

[x] 10. Edit Group on Mobile (Admin) ✅ DONE
       - EditGroupScreen.tsx created with name, description, cover image, approval toggle
       - Uses PATCH on /api/v1/groups/{id}/ with multipart/form-data for image upload
       - Edit button (✏️) added to GroupDetailScreen banner, visible to admins only
       - Change detection disables Save when nothing is modified
       - Updates propagate back to GroupDetailScreen and selectedGroup state


========================================
  PHASE 3 — POLISH & GROWTH
========================================

[x] 11. Animated Page Transitions ✅ DONE
       - AnimatedScreen.tsx component using RN built-in Animated API (zero deps)
       - 4 animation types: fadeSlide, fade, slideUp, slideRight
       - slideUp for create/edit modals (CreateGroup, CreatePost, EditGroup)
       - slideRight for push navigation (GroupDetail, Members, Wallet, etc.)
       - fadeSlide for content screens (PostDetail, GroupFeed)
       - All screens in App.tsx wrapped with appropriate animations

[x] 12. Pagination for Feeds ✅ DONE
       - Backend: StandardPagination class (15/page, max 50) in api_v1/views.py
       - Applied to PostViewSet and ContributionViewSet
       - GroupFeedScreen: infinite scroll with onEndReached, footer spinner, page extraction from next URL
       - ContributionsScreen: same infinite scroll pattern
       - Handles both paginated {results,next} and flat array responses for backwards compat

[x] 13. Camera Integration ✅ DONE
       - Added `takePhoto` via `expo-image-picker`'s `launchCameraAsync`
       - Updated CreatePostScreen with camera icon in toolbar
       - Updated ProfileSetupScreen, ProfileScreen, and EditGroupScreen with source picker (Alert)
       - Handles camera permissions properly on both iOS and Android

[x] 14. Biometric Auth for Wallet Transactions ✅ DONE
       - Installed `expo-local-authentication`
       - Created `src/utils/biometrics.ts` utility
       - Integrated into WalletScreen (Send Money, Contribute)
       - Integrated into GroupManagementScreen (Disburse Funds)
       - Added descriptive prompts for FaceID/TouchID/PIN verification

[x] 15. Deep Linking ✅ DONE
       - Configured `komunity` scheme in `app.json`
       - Implemented `handleDeepLink` in `App.tsx`
       - Support for `/group/:id` and `/post/:id`
       - Automatically fetches remote metadata and navigates to the target screen
       - Package: `expo-linking`

[x] 16. Image Caching ✅ DONE
       - Replaced native `Image` with `expo-image` across all major screens.
       - Enabled smooth transitions for better UX.
       - Achieved first-class caching and scroll performance.
       - Package: `expo-image`

[x] 17. Loading Skeletons ✅ DONE
       - Created reusable pulse-animated `Skeleton` component
       - Implemented `FeedPlaceholder` and `GroupPlaceholder`
       - Applied to `HomeScreen`, `GroupFeedScreen`, and `DiscoveryScreen`
       - Improved visual stability during data transitions
       - Consider: react-native-skeleton-placeholder or custom

[x] 18. Haptic Feedback ✅ DONE
       - Integrated `expo-haptics` into navigation and actions.
       - Light impact for tab switching and back navigation.
       - Success/Error notifications for wallet transactions.
       - Improved tactile engagement across the app.
       - Package: `expo-haptics`r premium feel

[x] 19. Share Posts ✅ DONE
       - Implemented native sharing for posts and communities.
       - Generates deep link URLs (e.g., `komunity://post/:id`).
       - Supported in `GroupFeedScreen`, `PostDetailScreen`, and `DiscoveryScreen`.
       - Added tactile feedback to the share action.

[x] 20. Invite via Contacts ✅ DONE
       - Implemented `ContactsScreen` for sending SMS invites.
       - Uses `expo-contacts` to fetch phone numbers and emails.
       - Uses `expo-sms` for sending pre-filled invitations.
       - Generates deep links for specific communities or general invites.
       - Integrated into `GroupDetailScreen` for admins.


========================================
  WEB-ONLY FEATURES (Not needed on mobile)
========================================

  - CSV Upload (bulk member import) — admin tool, web-only is fine
  - Post Approval flow — admin tool, low priority for mobile
  - HTMX interactions — web-specific, native has its own patterns


========================================
  INVERTED GAPS (Mobile has, Web doesn't)
========================================

[ ] 21. Post Likes on Web
       - Mobile has like/unlike, web doesn't
       - Add HTMX like button to web post template

[ ] 22. P2P Wallet Transfers on Web
       - Mobile has send money to members, web doesn't
       - Add P2P transfer view/template to wallet app

[ ] 23. Unread Feed Counter on Web
       - Mobile has unread badge on Discussion Feed button
       - Port to web using last_viewed_at field (already in DB)


========================================
  BUGS & TECH DEBT
========================================

[ ] 24. Lint Errors in ProfileScreen.tsx
       - Several lint warnings from profile picture implementation
       - Review and clean up

[ ] 25. Discovery Screen — Filter Out Joined Groups
       - Currently shows ALL groups including ones user is already in
       - Backend should exclude user's groups from discovery list

[ ] 26. Error Boundaries
       - No error boundaries in the React Native app
       - A crash in any screen crashes the whole app
       - Add ErrorBoundary component wrapping main screens

[ ] 27. Input Validation
       - Client-side validation is minimal
       - Add proper validation for: phone numbers, amounts, dates
       - Show inline error messages


================================================================================
  NOTES
================================================================================

  Backend API Base: http://192.168.88.243:8000/api/v1/
  Django Settings: core/settings.py
  Mobile Entry: mobile/App.tsx
  Key Models: user/models.py, chema/models.py, condolence/models.py, wallet/models.py
  API Views: api_v1/views.py
  Serializers: chema/serializers.py, user/serializers.py, condolence/serializers.py

================================================================================
