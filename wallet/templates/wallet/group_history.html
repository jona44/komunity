{% extends "base.html" %}

{% block content %}
<div class="max-w-4xl mx-auto py-8">
    <!-- Header Card -->
    <div class="bg-gradient-to-br from-indigo-600 to-purple-700 rounded-[2.5rem] p-8 text-white shadow-2xl shadow-indigo-200 mb-8 relative overflow-hidden">
        <!-- Abstract Shapes -->
        <div class="absolute top-0 right-0 -mr-16 -mt-16 w-64 h-64 bg-white/10 rounded-full blur-3xl"></div>
        <div class="absolute bottom-0 left-0 -ml-16 -mb-16 w-48 h-48 bg-indigo-400/20 rounded-full blur-2xl"></div>

        <div class="relative z-10 flex flex-col md:flex-row md:items-center justify-between gap-6">
            <div class="flex items-center gap-4">
                <a href="{% url 'contributions_list' %}" class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center hover:bg-white/30 transition-colors">
                    <span class="material-icons">arrow_back</span>
                </a>
                <div>
                    <h1 class="text-3xl font-black tracking-tight mb-1">{{ group.name }} Wallet</h1>
                    <p class="text-indigo-100 font-medium">Financial transparency for the group</p>
                </div>
            </div>
            <div class="bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-4 flex flex-col items-center min-w-[160px]">
                <span class="text-xs font-bold uppercase tracking-widest text-indigo-100 mb-1">Total Group Funds</span>
                <span class="text-3xl font-black">R {{ balance|default:"0.00" }}</span>
            </div>
        </div>
    </div>

    <!-- Transactions List -->
    <div class="bg-white rounded-[2.5rem] p-8 border border-gray-100 shadow-sm min-h-[400px]">
        <div class="flex items-center justify-between mb-8">
            <h2 class="text-xl font-black text-gray-900">Ledger Activity</h2>
            <div class="flex gap-2">
                <span class="px-3 py-1 bg-green-50 text-green-600 rounded-full text-xs font-bold uppercase">Contributions</span>
                <span class="px-3 py-1 bg-red-50 text-red-600 rounded-full text-xs font-bold uppercase">Disbursements</span>
            </div>
        </div>

        <div id="group-transaction-history-list" 
             hx-get="{% url 'group_wallet_history' group.id %}" 
             hx-trigger="update-contributions from:body"
             hx-target="this"
             class="space-y-4">
            {% include 'wallet/partials/group_transaction_list.html' %}
        </div>
    </div>
</div>
{% endblock %}
