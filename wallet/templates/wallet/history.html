{% extends "base.html" %}

{% block content %}
<div class="max-w-4xl mx-auto py-8">
    <!-- Header Card -->
    <div class="bg-gradient-to-br from-blue-600 to-indigo-700 rounded-[2.5rem] p-8 text-white shadow-2xl shadow-blue-200 mb-8 relative overflow-hidden">
        <!-- Abstract Shapes -->
        <div class="absolute top-0 right-0 -mr-16 -mt-16 w-64 h-64 bg-white/10 rounded-full blur-3xl"></div>
        <div class="absolute bottom-0 left-0 -ml-16 -mb-16 w-48 h-48 bg-blue-400/20 rounded-full blur-2xl"></div>

        <div class="relative z-10 flex flex-col md:flex-row md:items-center justify-between gap-6">
            <div>
                <h1 class="text-3xl font-black tracking-tight mb-1">Transaction History</h1>
                <p class="text-blue-100 font-medium">Manage and track all your wallet movements</p>
            </div>
            <div class="bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-4 flex flex-col items-center min-w-[160px]"
                 hx-get="{% url 'wallet_history' %}"
                 hx-trigger="update-history from:body, update-balance from:body"
                 hx-select="#history-balance-amount"
                 hx-target="#history-balance-amount">
                <span class="text-xs font-bold uppercase tracking-widest text-blue-100 mb-1">Total Balance</span>
                <span class="text-3xl font-black" id="history-balance-amount">R {{ balance|default:"0.00" }}</span>
            </div>
        </div>
    </div>

    <!-- Transactions List -->
    <div class="bg-white rounded-[2.5rem] p-8 border border-gray-100 shadow-sm min-h-[400px]">
        <div class="flex items-center justify-between mb-8">
            <h2 class="text-xl font-black text-gray-900">Recent Activity</h2>
        </div>

        <div id="transaction-history-list" 
             hx-get="{% url 'wallet_history' %}" 
             hx-trigger="update-history from:body"
             hx-target="this"
             class="space-y-4">
            {% include 'wallet/partials/transaction_list.html' %}
        </div>
    </div>
</div>
{% endblock %}
